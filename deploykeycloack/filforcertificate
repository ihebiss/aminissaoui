1- generate key plus csr je pointe dans cette configuration sur le fichier san.cnf
 # openssl req -new -nodes -out keycloak.csr -newkey rsa:2048 -keyout keycloak.key -config san.cnf
-rw-rw-r--  1 samtesfr1 samtesfr1  944 Jul  5 12:30 keycloak.csr
-rw-------  1 samtesfr1 samtesfr1 1704 Jul  5 12:30 keycloak.key
-rw-r--r--  1 samtesfr1 samtesfr1  244 Jul  5 12:28 san.cnf
2 - generate crt 
 # openssl x509 -req -in keycloak.csr --signkey keycloak.key  -out keycloak.crt -days 365 -extensions req_ext -extfile san.cnf 
Certificate request self-signature ok
subject=CN = 35.236.157.211
samtesfr1@cloudshell:~/ihebissaoui-main/deploykeycloack (norse-wavelet-464923-d2)$ ll

-rw-rw-r--  1 samtesfr1 samtesfr1 1005 Jul  5 12:34 keycloak.crt
-rw-rw-r--  1 samtesfr1 samtesfr1  944 Jul  5 12:30 keycloak.csr
-rw-------  1 samtesfr1 samtesfr1 1704 Jul  5 12:30 keycloak.key
-rw-r--r--  1 samtesfr1 samtesfr1  244 Jul  5 12:28 san.cnf

pour les secrets il faut hash base64
dans notre cas :
samtesfr1@cloudshell:~/ihebissaoui-main/deploykeycloack (norse-wavelet-464923-d2)$ cat keycloak.crt 
-----BEGIN CERTIFICATE-----
MIICuTCCAaECFFRUpqJYh5bvMDGDoH4/tsTu/OgBMA0GCSqGSIb3DQEBCwUAMBkx
FzAVBgNVBAMMDjM1LjIzNi4xNTcuMjExMB4XDTI1MDcwNTEyMzQzMVoXDTI2MDcw
NTEyMzQzMVowGTEXMBUGA1UEAwwOMzUuMjM2LjE1Ny4yMTEwggEiMA0GCSqGSIb3
DQEBAQUAA4IBDwAwggEKAoIBAQC0rwcYj400NWseUchHg5zFKN7ESHruddPyLW7j
LbUdjXfBm2WiG9Zmyw81/60V5rIw4rwT08bgkYk5yp8OtUp91EKK7losurHV/xUL
L1NAGcExJCHenItZDHAgz5v590XmvSdQQW3R5XEG1vFngcWWYe2sWFabnaGUhrn+
7vZ0AYjZcGkO01zDaEHWE1mF4aWQxOE00jSruif6SMbPOgIsptvzj8eFcw0eDbrW
h4FaHkAgbbMhjQtlFMTVvQbioXbRoSPGgouIpZSlQh0xZ+LFeHhNH3uJOwdG0OyO
YXfVSANdtZTy8yxlkaKJ8eF8xJpnobGrA3UOX5GQTiWzmUU3AgMBAAEwDQYJKoZI
hvcNAQELBQADggEBAJqHE4U4CF0x1VgH7ZL6B/g8OmouxAafp/HuckTqlk+zpCxS
cA9K/uqLZVVVlHSCNCwJP33PFgGsp2nlsYzhfZI3+Sklfo12nc+eLfdzmLHDjJHH
htpu58QPCqRF8i9fIwzpMEt6iNtXznZGx78hLox+3BjpC0p811GzqcYbkIlBF/Fx
fwOZvfhc5Lk8uv5xNlilraUqGLQhzEn4RWbm2Ns2OuGsD0W5XriSmwvceSwhLqCq
VE8r3WRx5QriXCMnnH2TM7ldOTRd0WGmOOvfIgdbUyahcRHyemr0VOdnVaRugBXq
D/hi7b/OBswkKeLmDXegsDL8WUgdLSNpT/yiqmU=
-----END CERTIFICATE-----
samtesfr1@cloudshell:~/ihebissaoui-main/deploykeycloack (norse-wavelet-464923-d2)$ cat keycloak.crt | base64 -w0
LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUN1VENDQWFFQ0ZGUlVwcUpZaDVidk1ER0RvSDQvdHNUdS9PZ0JNQTBHQ1NxR1NJYjNEUUVCQ3dVQU1Ca3gKRnpBVkJnTlZCQU1NRGpNMUxqSXpOaTR4TlRjdU1qRXhNQjRYRFRJMU1EY3dOVEV5TXpRek1Wb1hEVEkyTURjdwpOVEV5TXpRek1Wb3dHVEVYTUJVR0ExVUVBd3dPTXpVdU1qTTJMakUxTnk0eU1URXdnZ0VpTUEwR0NTcUdTSWIzCkRRRUJBUVVBQTRJQkR3QXdnZ0VLQW9JQkFRQzByd2NZajQwME5Xc2VVY2hIZzV6RktON0VTSHJ1ZGRQeUxXN2oKTGJVZGpYZkJtMldpRzlabXl3ODEvNjBWNXJJdzRyd1QwOGJna1lrNXlwOE90VXA5MUVLSzdsb3N1ckhWL3hVTApMMU5BR2NFeEpDSGVuSXRaREhBZ3o1djU5MFhtdlNkUVFXM1I1WEVHMXZGbmdjV1dZZTJzV0ZhYm5hR1Vocm4rCjd2WjBBWWpaY0drTzAxekRhRUhXRTFtRjRhV1F4T0UwMGpTcnVpZjZTTWJQT2dJc3B0dnpqOGVGY3cwZURiclcKaDRGYUhrQWdiYk1oalF0bEZNVFZ2UWJpb1hiUm9TUEdnb3VJcFpTbFFoMHhaK0xGZUhoTkgzdUpPd2RHME95TwpZWGZWU0FOZHRaVHk4eXhsa2FLSjhlRjh4SnBub2JHckEzVU9YNUdRVGlXem1VVTNBZ01CQUFFd0RRWUpLb1pJCmh2Y05BUUVMQlFBRGdnRUJBSnFIRTRVNENGMHgxVmdIN1pMNkIvZzhPbW91eEFhZnAvSHVja1RxbGsrenBDeFMKY0E5Sy91cUxaVlZWbEhTQ05Dd0pQMzNQRmdHc3AybmxzWXpoZlpJMytTa2xmbzEybmMrZUxmZHptTEhEakpISApodHB1NThRUENxUkY4aTlmSXd6cE1FdDZpTnRYem5aR3g3OGhMb3grM0JqcEMwcDgxMUd6cWNZYmtJbEJGL0Z4CmZ3T1p2ZmhjNUxrOHV2NXhObGlscmFVcUdMUWh6RW40UldibTJOczJPdUdzRDBXNVhyaVNtd3ZjZVN3aExxQ3EKVkU4cjNXUng1UXJpWENNbm5IMlRNN2xkT1RSZDBXR21PT3ZmSWdkYlV5YWhjUkh5ZW1yMFZPZG5WYVJ1Z0JYcQpEL2hpN2IvT0Jzd2tLZUxtRFhlZ3NETDhXVWdkTFNOcFQveWlxbVU9Ci0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0Ksamtesfr1@cloudshell:~/ihebissaoui-main/deploykeycloack (norse-wavelet-464923-d2)$ cat keycloak.crt | base64 
LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUN1VENDQWFFQ0ZGUlVwcUpZaDVidk1ER0Rv
SDQvdHNUdS9PZ0JNQTBHQ1NxR1NJYjNEUUVCQ3dVQU1Ca3gKRnpBVkJnTlZCQU1NRGpNMUxqSXpO
aTR4TlRjdU1qRXhNQjRYRFRJMU1EY3dOVEV5TXpRek1Wb1hEVEkyTURjdwpOVEV5TXpRek1Wb3dH
VEVYTUJVR0ExVUVBd3dPTXpVdU1qTTJMakUxTnk0eU1URXdnZ0VpTUEwR0NTcUdTSWIzCkRRRUJB
UVVBQTRJQkR3QXdnZ0VLQW9JQkFRQzByd2NZajQwME5Xc2VVY2hIZzV6RktON0VTSHJ1ZGRQeUxX
N2oKTGJVZGpYZkJtMldpRzlabXl3ODEvNjBWNXJJdzRyd1QwOGJna1lrNXlwOE90VXA5MUVLSzds
b3N1ckhWL3hVTApMMU5BR2NFeEpDSGVuSXRaREhBZ3o1djU5MFhtdlNkUVFXM1I1WEVHMXZGbmdj
V1dZZTJzV0ZhYm5hR1Vocm4rCjd2WjBBWWpaY0drTzAxekRhRUhXRTFtRjRhV1F4T0UwMGpTcnVp
ZjZTTWJQT2dJc3B0dnpqOGVGY3cwZURiclcKaDRGYUhrQWdiYk1oalF0bEZNVFZ2UWJpb1hiUm9T
UEdnb3VJcFpTbFFoMHhaK0xGZUhoTkgzdUpPd2RHME95TwpZWGZWU0FOZHRaVHk4eXhsa2FLSjhl
Rjh4SnBub2JHckEzVU9YNUdRVGlXem1VVTNBZ01CQUFFd0RRWUpLb1pJCmh2Y05BUUVMQlFBRGdn
RUJBSnFIRTRVNENGMHgxVmdIN1pMNkIvZzhPbW91eEFhZnAvSHVja1RxbGsrenBDeFMKY0E5Sy91
cUxaVlZWbEhTQ05Dd0pQMzNQRmdHc3AybmxzWXpoZlpJMytTa2xmbzEybmMrZUxmZHptTEhEakpI
SApodHB1NThRUENxUkY4aTlmSXd6cE1FdDZpTnRYem5aR3g3OGhMb3grM0JqcEMwcDgxMUd6cWNZ
YmtJbEJGL0Z4CmZ3T1p2ZmhjNUxrOHV2NXhObGlscmFVcUdMUWh6RW40UldibTJOczJPdUdzRDBX
NVhyaVNtd3ZjZVN3aExxQ3EKVkU4cjNXUng1UXJpWENNbm5IMlRNN2xkT1RSZDBXR21PT3ZmSWdk
YlV5YWhjUkh5ZW1yMFZPZG5WYVJ1Z0JYcQpEL2hpN2IvT0Jzd2tLZUxtRFhlZ3NETDhXVWdkTFNO
cFQveWlxbVU9Ci0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K
samtesfr1@cloudshell:~/ihebissaoui-main/deploykeycloack (norse-wavelet-464923-d2)$ cat keycloak.key | base64 -w0
LS0tLS1CRUdJTiBQUklWQVRFIEtFWS0tLS0tCk1JSUV2QUlCQURBTkJna3Foa2lHOXcwQkFRRUZBQVNDQktZd2dnU2lBZ0VBQW9JQkFRQzByd2NZajQwME5Xc2UKVWNoSGc1ekZLTjdFU0hydWRkUHlMVzdqTGJVZGpYZkJtMldpRzlabXl3ODEvNjBWNXJJdzRyd1QwOGJna1lrNQp5cDhPdFVwOTFFS0s3bG9zdXJIVi94VUxMMU5BR2NFeEpDSGVuSXRaREhBZ3o1djU5MFhtdlNkUVFXM1I1WEVHCjF2Rm5nY1dXWWUyc1dGYWJuYUdVaHJuKzd2WjBBWWpaY0drTzAxekRhRUhXRTFtRjRhV1F4T0UwMGpTcnVpZjYKU01iUE9nSXNwdHZ6ajhlRmN3MGVEYnJXaDRGYUhrQWdiYk1oalF0bEZNVFZ2UWJpb1hiUm9TUEdnb3VJcFpTbApRaDB4WitMRmVIaE5IM3VKT3dkRzBPeU9ZWGZWU0FOZHRaVHk4eXhsa2FLSjhlRjh4SnBub2JHckEzVU9YNUdRClRpV3ptVVUzQWdNQkFBRUNnZ0VBQUsyZmd6SVd2NWxydTRObkV3Mmxhd0FLUmdaWG44bUZjQ1ZIZzBiS3BUL0EKc1ZOYUFFL0djRUJXNEVjRGFVK2lYNWlhU0NERllGWnJnM0lGUXRMZllyV0hRbW8rb0doYS9vaWtsWlFwNWRXeQo2ZkpPeGowa01NTmhNRjVYSVlzU0VobW5xaDkwd0JMeVo2b3E0YzZVNVVtYzBNYk1IRzF0QzlldG53MWFrM2prCll6cFI4TTRMRUxHLzNsZzVqRWVvdFVEdmdUOGMwOWtpT2VHR1FoZXg0U09Mb05lS3FENUVKRHBlaHo3S2QrakQKL2VHc2E4ZENEdFl6MkFOSGhOanNpaWZWL0tMZlFHeThRY2JvWm9rajhLRGJ0TThEL2lYcXk2OFRvTlViSHNURQpvSDhmeFJrdnVpdE1xUGZYcHBqSWZVdDh4OGJISE9LbU1KWWRtVGRlUVFLQmdRRGFVVklVemRITjlDb0EyU01mCnFjZWVhdzViaFRWZ3dZOW4wbWRSQlhvanRReTBXQ3J4N1ZJRU00OFdNQXp0SWloSDBCcW9ReHVCQ1JCSEltNzMKQUFpNUdtYVpJbW84cDRRZ1Awd0hpM0d3ZXFIWDVOeDdzYW5kLzhDN0FTaTI4cmlWaTB2UkhDTmI4MkFkUk40MQo4ZGlkMVFpOFdUN0hsTERZb0krZlc2YTNSd0tCZ1FEVDNzdnhReHFyTGlLY2Q2TlVaRFlqVmZRc0FDUUpCMWgyClFSMnNUT3VhLzN3MzJySmRHa3BDclpyK2pDRmhpZTIvY2ZrN1R5cnlVMnZaRGJhZFNCNlZEQ3ZTL3NkQkNzVXIKQlFKalBFc0k2Qy9HTjZQOGpMdmk3Yk5BTngvVHYwdGdCSitaKzBlcnB6MGxRR1F5WHNOUHZsUXljWEtVMmF1RgpzeEdWbTUvYWtRS0JnQStKYWdZQS84VmdjdnpNZHl0eHNic2NjMUVnRWNScEFnT3BmYURPZXZxL2o3L2w1bWlCCk15MEpYazE5N2UyU1dMdURtK0lOcEk5eVRhNUNUUk5XOVVmM0VRWWs1TnFjTVZMNkxqYjdQWVFKdGlyZkpySEcKMndmcGc1WExaMUpkdzdVZ3pLeDlEQ2NuRXRnQ1pxNEFJQ0piWHR2SW5pY2w5Yy8wM1VQQ0NnTlJBb0dBU3NXeApZZ2NWclY0TjF2eWVCdFdMQ2JOM0JlUlMwMkRsUm02Nm95bE9hUmhMWllib05kVm1hZHZNL0pMRjRSK0ZhWEEyCnpraWxWbm84Y0pEWFp2Q2g0bVkyUFRPdmJIUDVtN0liNHB2UHUyZitIRTFjc1crVmk0UHFJL3FRWC9GK0QzZnkKUDZ5ZjRhT1cvOE9XMlBQNnAvVDYwQWFic282VGF3OEVZTEZZbkJFQ2dZQUxMNFd4Q3lhL1plbjNFSEIyUXVvWgp5cTQvMlVwSUJwdHpqMG9ML0twaHJnYk9VTS9XaStvQVQxOGVvTWlEbDd2bVhPaXI4WGtFK1hmQVM0dXI1dC9KCnlJa3o2TlJhb1krUXlaZmxiS3lUVU9UZ0FEeERPM0RnRm8rcWtPTkZ6aTFsbHhxczYvMmswVkxQazZxajd0SVAKZllSYzZWWnBwclh5ekdlVE5VUG1vQT09Ci0tLS0tRU5EIFBSSVZBVEUgS0VZLS0tLS0Ksamtesfr1@cloudshell:~/ihebissaoui-main/deploykeycloack (norse-wavelet-464923-d2)$ 
